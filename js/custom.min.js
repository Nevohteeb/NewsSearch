/*! formative3.1 2021-08-10 */

var url="https://gnews.io/api/v4/top-headlines",countrySelect=document.getElementById("countrySelect"),topicSelect=document.getElementById("topicSelect"),searchBtn=document.getElementById("searchSubmit"),searchInput=document.getElementById("searchInput"),myKey=JSON.parse(myKey),key=myKey[0].key;function filtered(){getNews(countrySelect.value,topicSelect.value)}function getNews(e,t){$.ajax({url:"https://gnews.io/api/v4/top-headlines?country="+e+"&topic="+t+"&lang=en"+key,type:"GET",data:"json",success:function(e){var t;for(document.getElementById("objects").innerHTML="",t=0;t<e.articles.length;t++){var c=e.articles[t];console.log(e),document.getElementById("objects").innerHTML+='<div class="col-lg-4 col-md-6 col-sm-12" > <div class="card mt-3"><img src="'+c.image+'" class="card-img-top" alt="news image"><div class="card-body"><h5 class="card-title fw-bold">'+c.title+'</h5><p class="card-text fw-light"> '+c.description+'<br><br>Source: <a class="text-primary" href="'+c.source.url+'" target="_blank">'+c.source.name+'</a><br><br><a class="text-danger" href="'+c.url+'" target="_blank">View full article</a></p></div></div></div>'}},error:function(){console.log("error")}})}function searchNews(e){$.ajax({url:"https://gnews.io/api/v4/search?q="+e+"&lang=en"+key,type:"GET",data:"json",success:function(e){var t;for(document.getElementById("objects").innerHTML="",t=0;t<e.articles.length;t++){var c=e.articles[t];console.log(e),document.getElementById("objects").innerHTML+='<div class="col-lg-4 col-md-6 col-sm-12" > <div class="card mt-3"><img src="'+c.image+'" class="card-img-top" alt="news image"><div class="card-body"><h5 class="card-title fw-bold">'+c.title+'</h5><p class="card-text fw-light"> '+c.description+'<br><br>Source: <a class="text-primary" href="'+c.source.url+'" target="_blank">'+c.source.name+'</a><br><br><a class="text-danger" href="'+c.url+'" target="_blank">View full article</a></p></div></div></div>'}},error:function(){console.log("error")}})}getNews("en","breaking-news"),$("#searchSubmit").click(function(){searchNews(searchInput.value)});